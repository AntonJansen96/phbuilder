#!/bin/python3
# PYTHON_ARGCOMPLETE_OK

from parsecmdline import parsecmdline

# Execute this as soon as possible because of the TAB autocomplete thing.
parsecmdline()

# Import the rest of the modules.
from parselambda import parseLambdaGroupTypesFile
from gentopol import gentopol
from addbuffers import addbuffers
from genparams import genparams

import universe, utils

if (not universe.has('ph_lambdaTypes')):
    utils.update("Parsing lambdagrouptypes.dat...")
    parseLambdaGroupTypesFile()
else:
    utils.update("Already parsed lambdagrouptypes.dat previously...")

if (universe.get('d_target') == "gentopol"):
    utils.update("Running gentopol...")
    gentopol()

elif (universe.get('d_target') == "addbuffers"):
    utils.update("Running addbuffers...")
    addbuffers()

elif (universe.get('d_target') == "genparams"):
    utils.update("Running addparams...")
    genparams()
